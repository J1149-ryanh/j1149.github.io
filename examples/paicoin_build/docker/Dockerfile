FROM ubuntu:18.04

# To stop tzdata from pausing the install.
ENV TZ=America/Los_Angeles
RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone

RUN apt update
RUN apt-get -y update
RUN apt-get -y upgrade

RUN mkdir /home/scripts
WORKDIR /home/scripts

# install paicoin
ADD paicoin_install.sh /home/scripts
RUN sh paicoin_install.sh

# Add file needed to create username/password for paicoin RPC
RUN mkdir /root/.paicoin
ADD paicoin.conf /root/.paicoin

# debugging tools install
ADD debugging_tools_install.sh /home/scripts
RUN sh debugging_tools_install.sh

# Miniconda
ADD miniconda_install.sh /home/scripts
RUN sh miniconda_install.sh

ADD paicoin_cli.py /home/scripts
ADD rpcauth.py /home/scripts
WORKDIR /home/scripts
CMD python3 paicoin_cli.py
EXPOSE 8080 8009
